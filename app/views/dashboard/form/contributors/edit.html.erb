<div class="container">
  <div class="row">
    <div class="col" data-controller="unsaved-changes" data-unsaved-changes-prompt="<%= t 'dashboard.form.unsaved_changes_prompt' %>">
      <h1 class="text-center mb-4 h4"><%= t("dashboard.form.heading.#{param_key}.edit") %></h1>

      <%= render FormTabsComponent.new(resource: @resource, current_controller: controller_name) %>

      <div class="tab-content">
        <div class="tab-pane active show">
          <%= form_with(
                model: @resource,
                url: dashboard_form_contributors_path(param_key, @resource),
                local: true,
                data: {
                  target: 'unsaved-changes.form'
                }
              ) do |form| %>

            <%= render FormErrorMessageComponent.new(form: form) %>

            <%= render "#{@resource.form_partial}_fields", form: form %>

            <%= render 'contributors', form: form %>

            <%= render 'dashboard/form/shared/action_footer', form: form %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
